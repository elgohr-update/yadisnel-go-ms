syntax = "proto3";
//go get github.com/golang/protobuf/protoc-gen-go@v1.3.2

package go.ms.broker;

service Broker {
	rpc Publish(PublishRequest) returns (Empty) {};
	rpc Subscribe(SubscribeRequest) returns (stream Message) {};
}

message Empty {}

message PublishRequest {
	string topic = 1;
	Message message = 2;
}

message SubscribeRequest {
	string topic = 1;
	string queue = 2;
}

message Message {
	map<string,string> header = 1;
	bytes body = 2;
}
